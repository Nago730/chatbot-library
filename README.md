# ğŸ¤– Chatbot Library for Vibe Coders

<p align="left">
  <img src="https://img.shields.io/github/stars/Nago730/chatbot-library?style=social" />
  <img src="https://img.shields.io/github/license/Nago730/chatbot-library" />
</p>

> **"Built out of frustration while freelancing. Stop coding chatbots from scratchâ€”just 'Vibe' it with JSON."**

[English](#english) | [í•œêµ­ì–´](#í•œêµ­ì–´)

---

<a name="english"></a>
## ğŸ‡ºğŸ‡¸ English

### ğŸš€ Vision
I got tired of rebuilding the same chatbot logic for every freelance client. This library is designed for **Vibe Coders (AI-Driven Developers)** to build chatbots effortlessly using just a single JSON object.

### âœ¨ Key Features
* **JSON-Driven Scenarios**: Design complex dialogue flows with one JSON. No more state management hell.
* **UI Presets**: Beautiful, ready-to-use themes. Pick one and match your service style.
* **AI-Ready Documentation**: Guides specifically optimized for AI agents (Cursor, GPT). Let the AI handle your Firebase/Supabase integration.

### â­ Why Star this?
Every **Star** motivates me to build the "AI-ready docs" and more UI themes faster. Help me make this the most AI-friendly library on GitHub!

---

<a name="í•œêµ­ì–´"></a>
## ğŸ‡°ğŸ‡· í•œêµ­ì–´

### ğŸš€ ê°œë°œ ë™ê¸°
ì™¸ì£¼ í”„ë¡œì íŠ¸ ì±—ë´‡ ìš”ì²­, ë§¤ë²ˆ ë°”ë‹¥ë¶€í„° ì§œê¸° ê·€ì°®ì•„ì„œ ì§ì ‘ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. **ë°”ì´ë¸Œ ì½”ë”(AI ì–´ì‹œìŠ¤í„´íŠ¸ í™œìš© ê°œë°œì)**ê°€ ë³µì¡í•œ ì„¤ì • ì—†ì´ **JSON í•˜ë‚˜ë¡œ ì±—ë´‡ì„ 'ë”¸ê¹' ìƒì„±**í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### âœ¨ ì£¼ìš” íŠ¹ì§•
* **JSON ê¸°ë°˜ ì‹œë‚˜ë¦¬ì˜¤**: ë³µì¡í•œ ë¡œì§ ì—†ì´ JSON ê°ì²´ í•˜ë‚˜ë¡œ ëŒ€í™” íë¦„ ì„¤ê³„ ë.
* **í…Œë§ˆ í”„ë¦¬ì…‹**: ì—¬ëŸ¬ UI í…Œë§ˆ ì¤‘ ì„œë¹„ìŠ¤ì— ë§ëŠ” ë””ìì¸ì„ ê³¨ë¼ ì“°ê¸°.
* **AI ì „ìš© ê°€ì´ë“œ**: AI(Cursor ë“±)ì— ë³µë¶™í•˜ë©´ Firebase ì—°ë™ê¹Œì§€ ì•Œì•„ì„œ í•´ì£¼ëŠ” 'ë°”ì´ë¸Œ ì½”ë”© ì „ìš© ë¬¸ì„œ' ì œê³µ ì˜ˆì •.

### â­ ìŠ¤íƒ€(Star)ë¥¼ ë¶€íƒë“œë¦¬ëŠ” ì´ìœ 
ì—¬ëŸ¬ë¶„ì˜ **Star** í•˜ë‚˜ê°€ ì™¸ì£¼ ë…¸ì˜ˆ(?)ì¸ ì €ë¥¼ ë°¤ìƒˆ ì½”ë”©í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ë‚˜ì¤‘ì— Cursorì—ì„œ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ë¦„ì„ ë°”ë¡œ ë³´ê²Œ í•´ë“œë¦´ê²Œìš”! ğŸ˜‰


ì—¬ê¸°ë¶€í„° ê¸°ëŠ¥ì„¤ëª…! 

# ğŸ¤– @nago730/chatbot-library

ì–´ë–¤ ì‹œë‚˜ë¦¬ì˜¤ë“  ì£¼ì…í•˜ì—¬ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ **ë²”ìš© ë©€í‹° ì‹œë‚˜ë¦¬ì˜¤ ì±—ë´‡ ì—”ì§„**ì…ë‹ˆë‹¤. React í™˜ê²½ì—ì„œ ìœ ì—°í•œ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

## âœ¨ ì£¼ìš” íŠ¹ì§•

* **ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì—”ì§„**: JSON í˜•íƒœì˜ ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°(`flow`)ë§Œìœ¼ë¡œ ë³µì¡í•œ ëŒ€í™” íë¦„ì„ ì œì–´í•©ë‹ˆë‹¤.
* **ë©€í‹° ì‹œë‚˜ë¦¬ì˜¤ ì§€ì›**: ëŸ°íƒ€ì„ì— ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë™ì ìœ¼ë¡œ êµì²´í•˜ë©°, êµì²´ ì‹œ ìƒíƒœê°€ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
* **ëŒ€í™” íˆìŠ¤í† ë¦¬ ì¶”ì **: `messages` ë°°ì—´ì„ í†µí•´ ì „ì²´ ëŒ€í™” ë‚´ì—­ì„ íƒ€ì„ë¼ì¸ ìˆœìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.
* **í”ŒëŸ¬ê·¸í˜• ì €ì¥ì†Œ ì–´ëŒ‘í„°**: Firebase, LocalStorage ë“± ì–´ë–¤ DBì™€ë„ ì‰½ê²Œ ì—°ê²°í•  ìˆ˜ ìˆëŠ” `StorageAdapter`ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
* **ì €ì¥ ì „ëµ ì˜µì…˜**: ë§¤ ë‹µë³€ë§ˆë‹¤ ì €ì¥í• ì§€(`always`), ëŒ€í™”ê°€ ëë‚  ë•Œë§Œ ì €ì¥í• ì§€(`onEnd`) ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ğŸ“¦ ì„¤ì¹˜

```bash
npm install @nago730/chatbot-library

```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

### 1. ì‹œë‚˜ë¦¬ì˜¤ ì •ì˜

`ChatNode` ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° ëŒ€í™” íë¦„ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

```typescript
const MY_FLOW = {
  start: {
    id: 'start',
    question: 'ì•ˆë…•í•˜ì„¸ìš”! ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?',
    type: 'button',
    options: ['ì„œë¹„ìŠ¤ ë¬¸ì˜', 'AS ì‹ ì²­'],
    next: 'choice_step'
  },
  // ... ë‹¤ìŒ ë…¸ë“œë“¤
  complete: {
    id: 'complete',
    question: 'ê°ì‚¬í•©ë‹ˆë‹¤. ê³§ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.',
    isEnd: true
  }
};

```

### 2. ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

`useChat` í›…ì„ ì‚¬ìš©í•˜ì—¬ ì±—ë´‡ ë¡œì§ì„ ì—°ê²°í•©ë‹ˆë‹¤.

```tsx
import { useChat } from '@nago730/chatbot-library';

function ChatComponent() {
  const { node, messages, submitAnswer, isEnd } = useChat(MY_FLOW, "user_123");

  return (
    <div>
      {/* ëŒ€í™” ë‚´ì—­ ë Œë”ë§ */}
      {messages.map((msg, i) => (
        <div key={i}>ğŸ‘¤ {msg.answer} | ğŸ¤– {msg.question}</div>
      ))}

      {/* í˜„ì¬ ì§ˆë¬¸ ë° ì„ íƒì§€ */}
      {!isEnd && (
        <>
          <p>{node.question}</p>
          {node.options?.map(opt => (
            <button key={opt} onClick={() => submitAnswer(opt)}>{opt}</button>
          ))}
        </>
      )}
    </div>
  );
}

```

---

## ğŸ’¾ Firebase ì—°ë™ (StorageAdapter)

ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” DB ì¡°ì‘ ë¡œì§ì„ ì§ì ‘ í¬í•¨í•˜ì§€ ì•Šê³ , ê°œë°œìê°€ êµ¬í˜„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

### ì–´ëŒ‘í„° êµ¬í˜„ ë° ì—°ê²° ì˜ˆì‹œ

```typescript
// 1. Firebase API êµ¬í˜„ (firebaseService.ts)
const firebaseAdapter = {
  saveState: async (userId, state) => {
    await setDoc(doc(db, 'chat_sessions', userId), state);
  },
  loadState: async (userId) => {
    const snap = await getDoc(doc(db, 'chat_sessions', userId));
    return snap.exists() ? snap.data() : null;
  }
};

// 2. í›…ì— ì—°ê²° ë° ì €ì¥ ì „ëµ ì„¤ì •
const chat = useChat(flow, userId, 'start', firebaseAdapter, {
  saveStrategy: 'always' // 'always' (ë§¤íšŒ ì €ì¥) ë˜ëŠ” 'onEnd' (ì¢…ë£Œ ì‹œë§Œ ì €ì¥)
});

```

---

## ğŸ“– API ë ˆí¼ëŸ°ìŠ¤

### `useChat` Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| `flow` | `Record<string, ChatNode>` | ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„ë„ ë°ì´í„° |
| `userId` | `string` | ì‚¬ìš©ì ì‹ë³„ì (ì €ì¥ ë° ë¡œë“œ ì‹œ ì‚¬ìš©) |
| `initialNodeId` | `string` | ì‹œì‘ ë…¸ë“œ ID (ê¸°ë³¸ê°’: 'start') |
| `adapter` | `StorageAdapter` | (Optional) ì™¸ë¶€ DB ì—°ë™ìš© ì–´ëŒ‘í„° |
| `options` | `ChatOptions` | (Optional) `saveStrategy` ì„¤ì • |

### `useChat` Return Values

* `node`: í˜„ì¬ ì§„í–‰ ì¤‘ì¸ `ChatNode` ê°ì²´
* `submitAnswer`: ë²„íŠ¼ ê¸°ë°˜ ë‹µë³€ ì œì¶œ í•¨ìˆ˜
* `submitInput`: ì£¼ê´€ì‹ í…ìŠ¤íŠ¸ ë‹µë³€ ì œì¶œ í•¨ìˆ˜
* `answers`: í˜„ì¬ê¹Œì§€ ìˆ˜ì§‘ëœ í‚¤-ê°’ í˜•íƒœì˜ ê²°ê³¼ ë°ì´í„°
* `messages`: ì „ì²´ ëŒ€í™” íˆìŠ¤í† ë¦¬ (ChatMessage ë°°ì—´)
* `isEnd`: ì‹œë‚˜ë¦¬ì˜¤ ì¢…ë£Œ ì—¬ë¶€

---

## ğŸ›  íƒ€ì… ì •ì˜ (Types)

```typescript
export interface ChatMessage {
  nodeId: string;
  question: string;
  answer: any;
  timestamp: number;
}

export interface ChatState {
  answers: Record<string, any>;
  currentStep: string;
  messages: ChatMessage[];
}

```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License
